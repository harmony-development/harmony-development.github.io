<!DOCTYPE html>
<html lang="en-us"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
    <title>Reference: protocol.auth.v1 | Harmony</title>
    <meta name="description" content="Standalone Message Types Session Session Session contains the information for a new session; the user_id you logged in as and the session_token which should be passed to authorisation
Fields
user_id Type: optional uint64
user_id: the ID of the user you logged in as
session_token Type: optional string
session_token: the session token to use in authorization
 AuthStep AuthStep A step in the authentication process Contains a variety of different types of views It is recommended to have a fallback_url specified For non-trivial authentication procedures (such as captchas) ">
    <link rel="canonical" href="https://harmonyapp.io/docs/protocol.auth.v1/" />

    <link rel="stylesheet" href="/css/codicon.css" />

    

    
      
      <link rel="stylesheet" href="/css/main.min.43ed3940f4fe2c2c0e39dc5b25b6738799dd574c50927c0b3de5236dc7f59adc.css" integrity="sha256-Q+05QPT+LCwOOdxbJbZzh5ndV0xQknwLPeUjbcf1mtw="/>
    

    <meta property="og:title" content="Reference: protocol.auth.v1" />
<meta property="og:description" content="Standalone Message Types Session Session Session contains the information for a new session; the user_id you logged in as and the session_token which should be passed to authorisation
Fields
user_id Type: optional uint64
user_id: the ID of the user you logged in as
session_token Type: optional string
session_token: the session token to use in authorization
 AuthStep AuthStep A step in the authentication process Contains a variety of different types of views It is recommended to have a fallback_url specified For non-trivial authentication procedures (such as captchas)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://harmonyapp.io/docs/protocol.auth.v1/" />


    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Reference: protocol.auth.v1"/>
<meta name="twitter:description" content="Standalone Message Types Session Session Session contains the information for a new session; the user_id you logged in as and the session_token which should be passed to authorisation
Fields
user_id Type: optional uint64
user_id: the ID of the user you logged in as
session_token Type: optional string
session_token: the session token to use in authorization
 AuthStep AuthStep A step in the authentication process Contains a variety of different types of views It is recommended to have a fallback_url specified For non-trivial authentication procedures (such as captchas)"/>

    <meta name="theme-color" content="#E93D58">
    <meta property="og:image" content="https://harmonyapp.io/img/harmony-embed.png" />

    <script src="https://unpkg.com/quicklink@2.0.0/dist/quicklink.umd.js"></script>
    <script defer>
        quicklink.listen()
    </script>
</head>
<body class="dark:text-white"><header class="w-full bg-gray-200 header flex text-lg">
  <div class="flex flex-row w-full items-center">
    <div class="flex-auto px-3 justify-start order-first inline-flex">
      <a class="font-header" href="/">
        <span class="font-light">Harmony </span
        ><span class="font-bold">Chat</span>
      </a>
    </div>
    <div class="flex-auto p-2 justify-end order-last inline-flex gap-1">
      
      <a
        href="/docs/faq"
        class="
          ml-2
          nu-top-app-bar__link
          h1-minor-minor
          border-2 border-transparent
          px-2
          hover:border-current hover:bg-white hover:bg-opacity-5
          rounded-sm
          transition
          duration-100
        "
      >
        FAQ
      </a>
      
      <a
        href="/docs"
        class="
          ml-2
          nu-top-app-bar__link
          h1-minor-minor
          border-2 border-transparent
          px-2
          hover:border-current hover:bg-white hover:bg-opacity-5
          rounded-sm
          transition
          duration-100
        "
      >
        Docs
      </a>
      
      <a
        href="https://github.com/harmony-development"
        class="
          ml-2
          nu-top-app-bar__link
          h1-minor-minor
          border-2 border-transparent
          px-2
          hover:border-current hover:bg-white hover:bg-opacity-5
          rounded-sm
          transition
          duration-100
        "
      >
        Github
      </a>
      
    </div>
  </div>
</header>
<main>

<div class="prose-wrapper">
  <aside class="prose-toc">
    <h4><strong>Table Of Contents</strong></h4>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#standalone-message-types">Standalone Message Types</a>
      <ul>
        <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespansession"><span class="codicon codicon-symbol-structure symbol-structure"></span>Session</a>
          <ul>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanuser_id"><span class="codicon codicon-symbol-field symbol-field"></span>user_id</a></li>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspansession_token"><span class="codicon codicon-symbol-field symbol-field"></span>session_token</a></li>
          </ul>
        </li>
        <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespanauthstep"><span class="codicon codicon-symbol-structure symbol-structure"></span>AuthStep</a>
          <ul>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanfallback_url"><span class="codicon codicon-symbol-field symbol-field"></span>fallback_url</a></li>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspancan_go_back"><span class="codicon codicon-symbol-field symbol-field"></span>can_go_back</a></li>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanchoice"><span class="codicon codicon-symbol-field symbol-field"></span>choice</a></li>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanform"><span class="codicon codicon-symbol-field symbol-field"></span>form</a></li>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspansession"><span class="codicon codicon-symbol-field symbol-field"></span>session</a></li>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanwaiting"><span class="codicon codicon-symbol-field symbol-field"></span>waiting</a></li>
          </ul>
        </li>
        <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespanauthstepchoice"><span class="codicon codicon-symbol-structure symbol-structure"></span>AuthStep.Choice</a>
          <ul>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspantitle"><span class="codicon codicon-symbol-field symbol-field"></span>title</a></li>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanoptions"><span class="codicon codicon-symbol-field symbol-field"></span>options</a></li>
          </ul>
        </li>
        <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespanauthstepform"><span class="codicon codicon-symbol-structure symbol-structure"></span>AuthStep.Form</a>
          <ul>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspantitle-1"><span class="codicon codicon-symbol-field symbol-field"></span>title</a></li>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanfields"><span class="codicon codicon-symbol-field symbol-field"></span>fields</a></li>
          </ul>
        </li>
        <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespanauthstepformformfield"><span class="codicon codicon-symbol-structure symbol-structure"></span>AuthStep.Form.FormField</a>
          <ul>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanname"><span class="codicon codicon-symbol-field symbol-field"></span>name</a></li>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspantype"><span class="codicon codicon-symbol-field symbol-field"></span>type</a></li>
          </ul>
        </li>
        <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespanauthstepwaiting"><span class="codicon codicon-symbol-structure symbol-structure"></span>AuthStep.Waiting</a>
          <ul>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspantitle-2"><span class="codicon codicon-symbol-field symbol-field"></span>title</a></li>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspandescription"><span class="codicon codicon-symbol-field symbol-field"></span>description</a></li>
          </ul>
        </li>
        <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespannextsteprequest"><span class="codicon codicon-symbol-structure symbol-structure"></span>NextStepRequest</a>
          <ul>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanauth_id"><span class="codicon codicon-symbol-field symbol-field"></span>auth_id</a></li>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanchoice-1"><span class="codicon codicon-symbol-field symbol-field"></span>choice</a></li>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanform-1"><span class="codicon codicon-symbol-field symbol-field"></span>form</a></li>
          </ul>
        </li>
        <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespannextsteprequestchoice"><span class="codicon codicon-symbol-structure symbol-structure"></span>NextStepRequest.Choice</a>
          <ul>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanchoice-2"><span class="codicon codicon-symbol-field symbol-field"></span>choice</a></li>
          </ul>
        </li>
        <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespannextsteprequestformfields"><span class="codicon codicon-symbol-structure symbol-structure"></span>NextStepRequest.FormFields</a>
          <ul>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanbytes"><span class="codicon codicon-symbol-field symbol-field"></span>bytes</a></li>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanstring"><span class="codicon codicon-symbol-field symbol-field"></span>string</a></li>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspannumber"><span class="codicon codicon-symbol-field symbol-field"></span>number</a></li>
          </ul>
        </li>
        <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespannextsteprequestform"><span class="codicon codicon-symbol-structure symbol-structure"></span>NextStepRequest.Form</a>
          <ul>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanfields-1"><span class="codicon codicon-symbol-field symbol-field"></span>fields</a></li>
          </ul>
        </li>
        <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespantokendata"><span class="codicon codicon-symbol-structure symbol-structure"></span>TokenData</a>
          <ul>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanuser_id-1"><span class="codicon codicon-symbol-field symbol-field"></span>user_id</a></li>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanserver_id"><span class="codicon codicon-symbol-field symbol-field"></span>server_id</a></li>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanusername"><span class="codicon codicon-symbol-field symbol-field"></span>username</a></li>
            <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanavatar"><span class="codicon codicon-symbol-field symbol-field"></span>avatar</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#services">Services</a>
      <ul>
        <li><a href="#span-classcodicon-codicon-symbol-class-symbol-classspanauthservice"><span class="codicon codicon-symbol-class symbol-class"></span>AuthService</a>
          <ul>
            <li><a href="#methods">Methods</a>
              <ul>
                <li><a href="#span-classcodicon-codicon-symbol-method-symbol-methodspanfederate"><span class="codicon codicon-symbol-method symbol-method"></span>Federate</a>
                  <ul>
                    <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespanfederaterequest"><span class="codicon codicon-symbol-structure symbol-structure"></span>FederateRequest</a>
                      <ul>
                        <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanserver_id-1"><span class="codicon codicon-symbol-field symbol-field"></span>server_id</a></li>
                      </ul>
                    </li>
                    <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespanfederateresponse"><span class="codicon codicon-symbol-structure symbol-structure"></span>FederateResponse</a>
                      <ul>
                        <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspantoken"><span class="codicon codicon-symbol-field symbol-field"></span>token</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="#span-classcodicon-codicon-symbol-method-symbol-methodspanloginfederated"><span class="codicon codicon-symbol-method symbol-method"></span>LoginFederated</a>
                  <ul>
                    <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespanloginfederatedrequest"><span class="codicon codicon-symbol-structure symbol-structure"></span>LoginFederatedRequest</a>
                      <ul>
                        <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanauth_token"><span class="codicon codicon-symbol-field symbol-field"></span>auth_token</a></li>
                        <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanserver_id-2"><span class="codicon codicon-symbol-field symbol-field"></span>server_id</a></li>
                      </ul>
                    </li>
                    <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespanloginfederatedresponse"><span class="codicon codicon-symbol-structure symbol-structure"></span>LoginFederatedResponse</a>
                      <ul>
                        <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspansession-1"><span class="codicon codicon-symbol-field symbol-field"></span>session</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="#span-classcodicon-codicon-symbol-method-symbol-methodspankey"><span class="codicon codicon-symbol-method symbol-method"></span>Key</a>
                  <ul>
                    <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespankeyrequest"><span class="codicon codicon-symbol-structure symbol-structure"></span>KeyRequest</a></li>
                    <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespankeyresponse"><span class="codicon codicon-symbol-structure symbol-structure"></span>KeyResponse</a>
                      <ul>
                        <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspankey"><span class="codicon codicon-symbol-field symbol-field"></span>key</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="#span-classcodicon-codicon-symbol-method-symbol-methodspanbeginauth"><span class="codicon codicon-symbol-method symbol-method"></span>BeginAuth</a>
                  <ul>
                    <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespanbeginauthrequest"><span class="codicon codicon-symbol-structure symbol-structure"></span>BeginAuthRequest</a></li>
                    <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespanbeginauthresponse"><span class="codicon codicon-symbol-structure symbol-structure"></span>BeginAuthResponse</a>
                      <ul>
                        <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanauth_id-1"><span class="codicon codicon-symbol-field symbol-field"></span>auth_id</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="#span-classcodicon-codicon-symbol-method-symbol-methodspannextstep"><span class="codicon codicon-symbol-method symbol-method"></span>NextStep</a>
                  <ul>
                    <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespannextstepresponse"><span class="codicon codicon-symbol-structure symbol-structure"></span>NextStepResponse</a>
                      <ul>
                        <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanstep"><span class="codicon codicon-symbol-field symbol-field"></span>step</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="#span-classcodicon-codicon-symbol-method-symbol-methodspanstepback"><span class="codicon codicon-symbol-method symbol-method"></span>StepBack</a>
                  <ul>
                    <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespanstepbackrequest"><span class="codicon codicon-symbol-structure symbol-structure"></span>StepBackRequest</a>
                      <ul>
                        <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanauth_id-2"><span class="codicon codicon-symbol-field symbol-field"></span>auth_id</a></li>
                      </ul>
                    </li>
                    <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespanstepbackresponse"><span class="codicon codicon-symbol-structure symbol-structure"></span>StepBackResponse</a>
                      <ul>
                        <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanstep-1"><span class="codicon codicon-symbol-field symbol-field"></span>step</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="#span-classcodicon-codicon-symbol-method-symbol-methodspanstreamsteps"><span class="codicon codicon-symbol-method symbol-method"></span>StreamSteps</a>
                  <ul>
                    <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespanstreamstepsrequest"><span class="codicon codicon-symbol-structure symbol-structure"></span>StreamStepsRequest</a>
                      <ul>
                        <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanauth_id-3"><span class="codicon codicon-symbol-field symbol-field"></span>auth_id</a></li>
                      </ul>
                    </li>
                    <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespanstreamstepsresponse"><span class="codicon codicon-symbol-structure symbol-structure"></span>StreamStepsResponse</a>
                      <ul>
                        <li><a href="#span-classcodicon-codicon-symbol-field-symbol-fieldspanstep-2"><span class="codicon codicon-symbol-field symbol-field"></span>step</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="#span-classcodicon-codicon-symbol-method-symbol-methodspancheckloggedin"><span class="codicon codicon-symbol-method symbol-method"></span>CheckLoggedIn</a>
                  <ul>
                    <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespancheckloggedinrequest"><span class="codicon codicon-symbol-structure symbol-structure"></span>CheckLoggedInRequest</a></li>
                    <li><a href="#span-classcodicon-codicon-symbol-structure-symbol-structurespancheckloggedinresponse"><span class="codicon codicon-symbol-structure symbol-structure"></span>CheckLoggedInResponse</a></li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
  </aside>
  <div class="flex justify-center pb-8 w-full">
    <article class="prose">
      <h1 class="h1">Reference: protocol.auth.v1</h1>
      <h1 id="standalone-message-types">Standalone Message Types</h1>
<h2 id="span-classcodicon-codicon-symbol-structure-symbol-structurespansession"><span class="codicon codicon-symbol-structure symbol-structure"></span>Session</h2>
<p>Session
Session contains the information for a new session;
the user_id you logged in as and the session_token
which should be passed to authorisation</p>
<p><span class="h3" aria-level="3">Fields</span></p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanuser_id"><span class="codicon codicon-symbol-field symbol-field"></span>user_id</h3>
<p>Type: optional <code>uint64</code></p>
<p>user_id: the ID of the user you logged in as</p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspansession_token"><span class="codicon codicon-symbol-field symbol-field"></span>session_token</h3>
<p>Type: optional <code>string</code></p>
<p>session_token: the session token to use in authorization</p>
<hr>
<h2 id="span-classcodicon-codicon-symbol-structure-symbol-structurespanauthstep"><span class="codicon codicon-symbol-structure symbol-structure"></span>AuthStep</h2>
<p>AuthStep
A step in the authentication process
Contains a variety of different types of views
It is recommended to have a fallback_url specified
For non-trivial authentication procedures (such as captchas)</p>
<p><span class="h3" aria-level="3">Fields</span></p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanfallback_url"><span class="codicon codicon-symbol-field symbol-field"></span>fallback_url</h3>
<p>Type: optional <code>string</code></p>
<p>fallback_url: unused</p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspancan_go_back"><span class="codicon codicon-symbol-field symbol-field"></span>can_go_back</h3>
<p>Type: optional <code>bool</code></p>
<p>can_go_back: whether or not the client can request the
server to send the previous step</p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanchoice"><span class="codicon codicon-symbol-field symbol-field"></span>choice</h3>
<p>Type: optional <a href="#authstepchoice">protocol.auth.v1.AuthStep.Choice</a></p>
<p>choice: the user must pick a thing out of a list of options</p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanform"><span class="codicon codicon-symbol-field symbol-field"></span>form</h3>
<p>Type: optional <a href="#authstepform">protocol.auth.v1.AuthStep.Form</a></p>
<p>form: the user must complete a form</p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspansession"><span class="codicon codicon-symbol-field symbol-field"></span>session</h3>
<p>Type: optional <a href="#session">protocol.auth.v1.Session</a></p>
<p>session: you&rsquo;ve completed auth, and have a session</p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanwaiting"><span class="codicon codicon-symbol-field symbol-field"></span>waiting</h3>
<p>Type: optional <a href="#authstepwaiting">protocol.auth.v1.AuthStep.Waiting</a></p>
<p>waiting: you&rsquo;re waiting on something</p>
<hr>
<h2 id="span-classcodicon-codicon-symbol-structure-symbol-structurespanauthstepchoice"><span class="codicon codicon-symbol-structure symbol-structure"></span>AuthStep.Choice</h2>
<p><span class="h3" aria-level="3">Fields</span></p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspantitle"><span class="codicon codicon-symbol-field symbol-field"></span>title</h3>
<p>Type: optional <code>string</code></p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanoptions"><span class="codicon codicon-symbol-field symbol-field"></span>options</h3>
<p>Type: repeated <code>string</code></p>
<hr>
<h2 id="span-classcodicon-codicon-symbol-structure-symbol-structurespanauthstepform"><span class="codicon codicon-symbol-structure symbol-structure"></span>AuthStep.Form</h2>
<p><span class="h3" aria-level="3">Fields</span></p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspantitle-1"><span class="codicon codicon-symbol-field symbol-field"></span>title</h3>
<p>Type: optional <code>string</code></p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanfields"><span class="codicon codicon-symbol-field symbol-field"></span>fields</h3>
<p>Type: repeated <a href="#authstepformformfield">protocol.auth.v1.AuthStep.Form.FormField</a></p>
<hr>
<h2 id="span-classcodicon-codicon-symbol-structure-symbol-structurespanauthstepformformfield"><span class="codicon codicon-symbol-structure symbol-structure"></span>AuthStep.Form.FormField</h2>
<p><span class="h3" aria-level="3">Fields</span></p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanname"><span class="codicon codicon-symbol-field symbol-field"></span>name</h3>
<p>Type: optional <code>string</code></p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspantype"><span class="codicon codicon-symbol-field symbol-field"></span>type</h3>
<p>Type: optional <code>string</code></p>
<hr>
<h2 id="span-classcodicon-codicon-symbol-structure-symbol-structurespanauthstepwaiting"><span class="codicon codicon-symbol-structure symbol-structure"></span>AuthStep.Waiting</h2>
<p><span class="h3" aria-level="3">Fields</span></p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspantitle-2"><span class="codicon codicon-symbol-field symbol-field"></span>title</h3>
<p>Type: optional <code>string</code></p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspandescription"><span class="codicon codicon-symbol-field symbol-field"></span>description</h3>
<p>Type: optional <code>string</code></p>
<hr>
<h2 id="span-classcodicon-codicon-symbol-structure-symbol-structurespannextsteprequest"><span class="codicon codicon-symbol-structure symbol-structure"></span>NextStepRequest</h2>
<p>NextStepRequest
contains the client&rsquo;s response to the server&rsquo;s challenge
This needs to be called first with no arguments to
receive the first step</p>
<p><span class="h3" aria-level="3">Fields</span></p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanauth_id"><span class="codicon codicon-symbol-field symbol-field"></span>auth_id</h3>
<p>Type: optional <code>string</code></p>
<p>auth_id: the authentication session you want
the next step of</p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanchoice-1"><span class="codicon codicon-symbol-field symbol-field"></span>choice</h3>
<p>Type: optional <a href="#nextsteprequestchoice">protocol.auth.v1.NextStepRequest.Choice</a></p>
<p>choice: the choice the user picked</p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanform-1"><span class="codicon codicon-symbol-field symbol-field"></span>form</h3>
<p>Type: optional <a href="#nextsteprequestform">protocol.auth.v1.NextStepRequest.Form</a></p>
<p>form: the form the user filled out</p>
<hr>
<h2 id="span-classcodicon-codicon-symbol-structure-symbol-structurespannextsteprequestchoice"><span class="codicon codicon-symbol-structure symbol-structure"></span>NextStepRequest.Choice</h2>
<p><span class="h3" aria-level="3">Fields</span></p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanchoice-2"><span class="codicon codicon-symbol-field symbol-field"></span>choice</h3>
<p>Type: optional <code>string</code></p>
<hr>
<h2 id="span-classcodicon-codicon-symbol-structure-symbol-structurespannextsteprequestformfields"><span class="codicon codicon-symbol-structure symbol-structure"></span>NextStepRequest.FormFields</h2>
<p><span class="h3" aria-level="3">Fields</span></p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanbytes"><span class="codicon codicon-symbol-field symbol-field"></span>bytes</h3>
<p>Type: optional <code>bytes</code></p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanstring"><span class="codicon codicon-symbol-field symbol-field"></span>string</h3>
<p>Type: optional <code>string</code></p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspannumber"><span class="codicon codicon-symbol-field symbol-field"></span>number</h3>
<p>Type: optional <code>int64</code></p>
<hr>
<h2 id="span-classcodicon-codicon-symbol-structure-symbol-structurespannextsteprequestform"><span class="codicon codicon-symbol-structure symbol-structure"></span>NextStepRequest.Form</h2>
<p><span class="h3" aria-level="3">Fields</span></p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanfields-1"><span class="codicon codicon-symbol-field symbol-field"></span>fields</h3>
<p>Type: repeated <a href="#nextsteprequestformfields">protocol.auth.v1.NextStepRequest.FormFields</a></p>
<hr>
<h2 id="span-classcodicon-codicon-symbol-structure-symbol-structurespantokendata"><span class="codicon codicon-symbol-structure symbol-structure"></span>TokenData</h2>
<p>Information sent by a client&rsquo;s homeserver, in a <code>harmonytypes.v1.Token</code>.
It will be sent to a foreignserver by the client.</p>
<p><span class="h3" aria-level="3">Fields</span></p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanuser_id-1"><span class="codicon codicon-symbol-field symbol-field"></span>user_id</h3>
<p>Type: optional <code>uint64</code></p>
<p>The client&rsquo;s user ID on the homeserver.</p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanserver_id"><span class="codicon codicon-symbol-field symbol-field"></span>server_id</h3>
<p>Type: optional <code>string</code></p>
<p>The foreignserver&rsquo;s server ID.</p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanusername"><span class="codicon codicon-symbol-field symbol-field"></span>username</h3>
<p>Type: optional <code>string</code></p>
<p>The username of the client.</p>
<h3 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanavatar"><span class="codicon codicon-symbol-field symbol-field"></span>avatar</h3>
<p>Type: optional <code>string</code></p>
<p>The avatar of the client.</p>
<hr>
<h1 id="services">Services</h1>
<h2 id="span-classcodicon-codicon-symbol-class-symbol-classspanauthservice"><span class="codicon codicon-symbol-class symbol-class"></span>AuthService</h2>
<p>The service containing authorization/entication methods</p>
<h3 id="methods">Methods</h3>
<h4 id="span-classcodicon-codicon-symbol-method-symbol-methodspanfederate"><span class="codicon codicon-symbol-method symbol-method"></span>Federate</h4>
<p><a href="#federaterequest">protocol.auth.v1.FederateRequest</a> -&gt; <a href="#federateresponse">protocol.auth.v1.FederateResponse</a></p>
<p>Federate with a foreignserver, obtaining a token
you can use to call LoginFederated on it</p>
<br/>
<h5 id="span-classcodicon-codicon-symbol-structure-symbol-structurespanfederaterequest"><span class="codicon codicon-symbol-structure symbol-structure"></span>FederateRequest</h5>
<p>The request to federate with a foreign server.</p>
<p><span class="h5" aria-level="5">Fields</span></p>
<h6 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanserver_id-1"><span class="codicon codicon-symbol-field symbol-field"></span>server_id</h6>
<p>Type: optional <code>string</code></p>
<p>The server ID foreign server you want to federate with</p>
<br/>
<h5 id="span-classcodicon-codicon-symbol-structure-symbol-structurespanfederateresponse"><span class="codicon codicon-symbol-structure symbol-structure"></span>FederateResponse</h5>
<p>The reply to a successful federation request,
containing the token you need to present to the
foreign server.</p>
<p><span class="h5" aria-level="5">Fields</span></p>
<h6 id="span-classcodicon-codicon-symbol-field-symbol-fieldspantoken"><span class="codicon codicon-symbol-field symbol-field"></span>token</h6>
<p>Type: optional <a href="https://harmonyapp.io/docs/protocol.harmonytypes.v1/#token">protocol.harmonytypes.v1.Token</a></p>
<p>A <code>harmonytypes.v1.Token</code> whose <code>data</code> field is a serialized <code>TokenData</code> message.
It is signed with the homeserver&rsquo;s private key.</p>
<hr>
<h4 id="span-classcodicon-codicon-symbol-method-symbol-methodspanloginfederated"><span class="codicon codicon-symbol-method symbol-method"></span>LoginFederated</h4>
<p><a href="#loginfederatedrequest">protocol.auth.v1.LoginFederatedRequest</a> -&gt; <a href="#loginfederatedresponse">protocol.auth.v1.LoginFederatedResponse</a></p>
<p>Present a token to a foreignserver from a Federate call
on your homeserver in order to login</p>
<br/>
<h5 id="span-classcodicon-codicon-symbol-structure-symbol-structurespanloginfederatedrequest"><span class="codicon codicon-symbol-structure symbol-structure"></span>LoginFederatedRequest</h5>
<p>Log into a foreignserver using a token
from your homeserver, obtained through a FederateRequest</p>
<p><span class="h5" aria-level="5">Fields</span></p>
<h6 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanauth_token"><span class="codicon codicon-symbol-field symbol-field"></span>auth_token</h6>
<p>Type: optional <a href="https://harmonyapp.io/docs/protocol.harmonytypes.v1/#token">protocol.harmonytypes.v1.Token</a></p>
<p>A <code>harmonytypes.v1.Token</code> whose <code>data</code> field is a serialized <code>TokenData</code> message.
It is signed with the homeserver&rsquo;s private key.</p>
<h6 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanserver_id-2"><span class="codicon codicon-symbol-field symbol-field"></span>server_id</h6>
<p>Type: optional <code>string</code></p>
<p>The server ID of the homeserver that the auth token is from</p>
<br/>
<h5 id="span-classcodicon-codicon-symbol-structure-symbol-structurespanloginfederatedresponse"><span class="codicon codicon-symbol-structure symbol-structure"></span>LoginFederatedResponse</h5>
<p>Used in <code>LoginFederated</code> endpoint.</p>
<p><span class="h5" aria-level="5">Fields</span></p>
<h6 id="span-classcodicon-codicon-symbol-field-symbol-fieldspansession-1"><span class="codicon codicon-symbol-field symbol-field"></span>session</h6>
<p>Type: optional <a href="#session">protocol.auth.v1.Session</a></p>
<p>The user&rsquo;s session.</p>
<hr>
<h4 id="span-classcodicon-codicon-symbol-method-symbol-methodspankey"><span class="codicon codicon-symbol-method symbol-method"></span>Key</h4>
<p><a href="#keyrequest">protocol.auth.v1.KeyRequest</a> -&gt; <a href="#keyresponse">protocol.auth.v1.KeyResponse</a></p>
<p>Returns the public key of this server</p>
<br/>
<h5 id="span-classcodicon-codicon-symbol-structure-symbol-structurespankeyrequest"><span class="codicon codicon-symbol-structure symbol-structure"></span>KeyRequest</h5>
<p>Used in <code>Key</code> endpoint.</p>
<p>This item has no fields.</p>
<br/>
<h5 id="span-classcodicon-codicon-symbol-structure-symbol-structurespankeyresponse"><span class="codicon codicon-symbol-structure symbol-structure"></span>KeyResponse</h5>
<p>Contains a key&rsquo;s bytes.</p>
<p><span class="h5" aria-level="5">Fields</span></p>
<h6 id="span-classcodicon-codicon-symbol-field-symbol-fieldspankey"><span class="codicon codicon-symbol-field symbol-field"></span>key</h6>
<p>Type: optional <code>bytes</code></p>
<p>key: the bytes of the public key.</p>
<hr>
<h4 id="span-classcodicon-codicon-symbol-method-symbol-methodspanbeginauth"><span class="codicon codicon-symbol-method symbol-method"></span>BeginAuth</h4>
<p><a href="#beginauthrequest">protocol.auth.v1.BeginAuthRequest</a> -&gt; <a href="#beginauthresponse">protocol.auth.v1.BeginAuthResponse</a></p>
<p>Begins an authentication session</p>
<br/>
<h5 id="span-classcodicon-codicon-symbol-structure-symbol-structurespanbeginauthrequest"><span class="codicon codicon-symbol-structure symbol-structure"></span>BeginAuthRequest</h5>
<p>Used in <code>BeginAuth</code> endpoint.</p>
<p>This item has no fields.</p>
<br/>
<h5 id="span-classcodicon-codicon-symbol-structure-symbol-structurespanbeginauthresponse"><span class="codicon codicon-symbol-structure symbol-structure"></span>BeginAuthResponse</h5>
<p>BeginAuthResponse
The return type of BeginAuth, containing the
auth_id that will be used for the authentication
section</p>
<p><span class="h5" aria-level="5">Fields</span></p>
<h6 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanauth_id-1"><span class="codicon codicon-symbol-field symbol-field"></span>auth_id</h6>
<p>Type: optional <code>string</code></p>
<p>auth_id: the ID of this auth session</p>
<hr>
<h4 id="span-classcodicon-codicon-symbol-method-symbol-methodspannextstep"><span class="codicon codicon-symbol-method symbol-method"></span>NextStep</h4>
<p><a href="#nextsteprequest">protocol.auth.v1.NextStepRequest</a> -&gt; <a href="#nextstepresponse">protocol.auth.v1.NextStepResponse</a></p>
<p>Goes to the next step of the authentication session,
possibly presenting user input</p>
<h5 id="span-classcodicon-codicon-symbol-structure-symbol-structurespannextstepresponse"><span class="codicon codicon-symbol-structure symbol-structure"></span>NextStepResponse</h5>
<p>Used in <code>NextStep</code> endpoint.</p>
<p><span class="h5" aria-level="5">Fields</span></p>
<h6 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanstep"><span class="codicon codicon-symbol-field symbol-field"></span>step</h6>
<p>Type: optional <a href="#authstep">protocol.auth.v1.AuthStep</a></p>
<p>step: the next step in the authentication process</p>
<hr>
<h4 id="span-classcodicon-codicon-symbol-method-symbol-methodspanstepback"><span class="codicon codicon-symbol-method symbol-method"></span>StepBack</h4>
<p><a href="#stepbackrequest">protocol.auth.v1.StepBackRequest</a> -&gt; <a href="#stepbackresponse">protocol.auth.v1.StepBackResponse</a></p>
<p>Goes to the previous step of the authentication session
if possible</p>
<br/>
<h5 id="span-classcodicon-codicon-symbol-structure-symbol-structurespanstepbackrequest"><span class="codicon codicon-symbol-structure symbol-structure"></span>StepBackRequest</h5>
<p>StepBackRequest
A request to go back 1 step</p>
<p><span class="h5" aria-level="5">Fields</span></p>
<h6 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanauth_id-2"><span class="codicon codicon-symbol-field symbol-field"></span>auth_id</h6>
<p>Type: optional <code>string</code></p>
<p>auth_id: the authentication session the user
wants to go back in</p>
<br/>
<h5 id="span-classcodicon-codicon-symbol-structure-symbol-structurespanstepbackresponse"><span class="codicon codicon-symbol-structure symbol-structure"></span>StepBackResponse</h5>
<p>Used in <code>StepBack</code> endpoint.</p>
<p><span class="h5" aria-level="5">Fields</span></p>
<h6 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanstep-1"><span class="codicon codicon-symbol-field symbol-field"></span>step</h6>
<p>Type: optional <a href="#authstep">protocol.auth.v1.AuthStep</a></p>
<p>step: the previous step in the authentication process</p>
<hr>
<h4 id="span-classcodicon-codicon-symbol-method-symbol-methodspanstreamsteps"><span class="codicon codicon-symbol-method symbol-method"></span>StreamSteps</h4>
<p><a href="#streamstepsrequest">protocol.auth.v1.StreamStepsRequest</a> -&gt; streaming <a href="#streamstepsresponse">protocol.auth.v1.StreamStepsResponse</a></p>
<p>Consume the steps of an authentication session
as a stream</p>
<br/>
<h5 id="span-classcodicon-codicon-symbol-structure-symbol-structurespanstreamstepsrequest"><span class="codicon codicon-symbol-structure symbol-structure"></span>StreamStepsRequest</h5>
<p>StreamStepsRequest
Required to be initiated by all authenticating clients
Allows the server to send steps</p>
<p><span class="h5" aria-level="5">Fields</span></p>
<h6 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanauth_id-3"><span class="codicon codicon-symbol-field symbol-field"></span>auth_id</h6>
<p>Type: optional <code>string</code></p>
<p>auth_id: the authorization session
who&rsquo;s steps you want to stream</p>
<br/>
<h5 id="span-classcodicon-codicon-symbol-structure-symbol-structurespanstreamstepsresponse"><span class="codicon codicon-symbol-structure symbol-structure"></span>StreamStepsResponse</h5>
<p>Used in <code>StreamSteps</code> endpoint.</p>
<p><span class="h5" aria-level="5">Fields</span></p>
<h6 id="span-classcodicon-codicon-symbol-field-symbol-fieldspanstep-2"><span class="codicon codicon-symbol-field symbol-field"></span>step</h6>
<p>Type: optional <a href="#authstep">protocol.auth.v1.AuthStep</a></p>
<p>step: the next step in the authentication process</p>
<hr>
<h4 id="span-classcodicon-codicon-symbol-method-symbol-methodspancheckloggedin"><span class="codicon codicon-symbol-method symbol-method"></span>CheckLoggedIn</h4>
<p><a href="#checkloggedinrequest">protocol.auth.v1.CheckLoggedInRequest</a> -&gt; <a href="#checkloggedinresponse">protocol.auth.v1.CheckLoggedInResponse</a></p>
<p>Check whether or not you&rsquo;re logged in and the session is valid</p>
<br/>
<h5 id="span-classcodicon-codicon-symbol-structure-symbol-structurespancheckloggedinrequest"><span class="codicon codicon-symbol-structure symbol-structure"></span>CheckLoggedInRequest</h5>
<p>Used in <code>CheckLoggedIn</code> endpoint.</p>
<p>This item has no fields.</p>
<br/>
<h5 id="span-classcodicon-codicon-symbol-structure-symbol-structurespancheckloggedinresponse"><span class="codicon codicon-symbol-structure symbol-structure"></span>CheckLoggedInResponse</h5>
<p>Used in <code>CheckLoggedIn</code> endpoint.</p>
<p>This item has no fields.</p>

    </article>
  </div>
</div>


        </main><footer class="py-8 bg-light-900 dark:bg-dark-900 flex justify-center">
  <div class="max-w-prose">Harmony Development</div>
</footer>
</body>
</html>
