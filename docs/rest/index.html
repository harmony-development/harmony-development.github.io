<!DOCTYPE html>
<html lang="en-us"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
    <title>RESTful Endpoints | Harmony</title>
    <meta name="description" content="Authentication If an endpoint expects authentication, the user should set the Authorization header to a valid token from the hRPC API.
POST /_harmony/media/upload Expects authentication: yes
The body should be POST-ed as a multipart form (multipart/form-data), with a single part named file which contains the body of the file being uploaded.
URL Parameters    Name Description     filename The name of the file being uploaded.   contentType The MIME type of the file. ">
    <link rel="canonical" href="https://harmonyapp.io/docs/rest/" />

    

    
      
      <link rel="stylesheet" href="/css/main.min.b9c1f04032caf166ced95c8538cccd405cd81e73e324f36c541d5d69deb01565.css" integrity="sha256-ucHwQDLK8WbO2VyFOMzNQFzYHnPjJPNsVB1dad6wFWU="/>
    

    <meta property="og:title" content="RESTful Endpoints" />
<meta property="og:description" content="Authentication If an endpoint expects authentication, the user should set the Authorization header to a valid token from the hRPC API.
POST /_harmony/media/upload Expects authentication: yes
The body should be POST-ed as a multipart form (multipart/form-data), with a single part named file which contains the body of the file being uploaded.
URL Parameters    Name Description     filename The name of the file being uploaded.   contentType The MIME type of the file." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://harmonyapp.io/docs/rest/" /><meta property="article:section" content="docs" />




    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="RESTful Endpoints"/>
<meta name="twitter:description" content="Authentication If an endpoint expects authentication, the user should set the Authorization header to a valid token from the hRPC API.
POST /_harmony/media/upload Expects authentication: yes
The body should be POST-ed as a multipart form (multipart/form-data), with a single part named file which contains the body of the file being uploaded.
URL Parameters    Name Description     filename The name of the file being uploaded.   contentType The MIME type of the file."/>

    <meta name="theme-color" content="#E93D58">
    <meta property="og:image" content="https://harmonyapp.io/img/harmony-embed.png" />

    <script src="https://unpkg.com/quicklink@2.0.0/dist/quicklink.umd.js"></script>
    <script defer>
        quicklink.listen()
    </script>
</head>
<body class="dark:text-white"><header class="w-full bg-gray-200 header flex text-lg">
  <div class="flex flex-row w-full items-center">
    <div class="flex-auto px-3 justify-start order-first inline-flex">
      <a class="font-header" href="/">
        <span class="font-light">Harmony </span
        ><span class="font-bold">Chat</span>
      </a>
    </div>
    <div class="flex-auto p-2 justify-end order-last inline-flex gap-1">
      
      <a
        href="/docs/faq"
        class="
          ml-2
          nu-top-app-bar__link
          h1-minor-minor
          border-2 border-transparent
          px-2
          hover:border-current hover:bg-white hover:bg-opacity-5
          rounded-sm
          transition
          duration-100
        "
      >
        FAQ
      </a>
      
      <a
        href="/docs"
        class="
          ml-2
          nu-top-app-bar__link
          h1-minor-minor
          border-2 border-transparent
          px-2
          hover:border-current hover:bg-white hover:bg-opacity-5
          rounded-sm
          transition
          duration-100
        "
      >
        Docs
      </a>
      
      <a
        href="https://github.com/harmony-development"
        class="
          ml-2
          nu-top-app-bar__link
          h1-minor-minor
          border-2 border-transparent
          px-2
          hover:border-current hover:bg-white hover:bg-opacity-5
          rounded-sm
          transition
          duration-100
        "
      >
        Github
      </a>
      
    </div>
  </div>
</header>
<main>

<div class="prose-wrapper">
  <aside class="prose-toc">
    <h4><strong>Table Of Contents</strong></h4>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#authentication">Authentication</a></li>
    <li><a href="#post-_harmonymediaupload">POST <code>/_harmony/media/upload</code></a>
      <ul>
        <li><a href="#url-parameters">URL Parameters</a></li>
        <li><a href="#responses">Responses</a></li>
      </ul>
    </li>
    <li><a href="#get-_harmonymediadownloadfile_id">GET <code>/_harmony/media/download/:file_id</code></a>
      <ul>
        <li><a href="#responses-1">Responses</a></li>
      </ul>
    </li>
    <li><a href="#get-_harmonyabout">GET <code>/_harmony/about</code></a>
      <ul>
        <li><a href="#responses-2">Responses</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </aside>
  <div class="flex justify-center w-full">
    <article class="prose">
      <h1 class="h1">RESTful Endpoints</h1>
      <h2 id="authentication">Authentication</h2>
<p>If an endpoint expects authentication, the user should set the <code>Authorization</code>
header to a valid token from the hRPC API.</p>
<h2 id="post-_harmonymediaupload">POST <code>/_harmony/media/upload</code></h2>
<p>Expects authentication: yes</p>
<p>The body should be POST-ed as a multipart form (<code>multipart/form-data</code>), with a
single part named <code>file</code> which contains the body of the file being uploaded.</p>
<h3 id="url-parameters">URL Parameters</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>filename</code></td>
<td>The name of the file being uploaded.</td>
</tr>
<tr>
<td><code>contentType</code></td>
<td>The MIME type of the file.</td>
</tr>
</tbody>
</table>
<h3 id="responses">Responses</h3>
<h4 id="200-ok">200 OK</h4>
<p>The body will contain a JSON object in the following format:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>The file ID of the file that was uploaded.</td>
</tr>
</tbody>
</table>
<h4 id="400-bad-request">400 Bad Request</h4>
<p>The body will contain a JSON object in the following format:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>message</code></td>
<td>The error message.</td>
</tr>
</tbody>
</table>
<p>Possible error messages and their meanings:</p>
<table>
<thead>
<tr>
<th>Error</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>missing-files</code></td>
<td>You forgot to upload a file.</td>
</tr>
<tr>
<td><code>too-many-files</code></td>
<td>You have uploaded more than one <code>file</code> form part.</td>
</tr>
</tbody>
</table>
<h2 id="get-_harmonymediadownloadfile_id">GET <code>/_harmony/media/download/:file_id</code></h2>
<p>Expects authentication: no</p>
<p>The <code>file_id</code> should be one of the following:</p>
<ul>
<li>An attachment ID returned from POST <code>/_harmony/media/upload</code></li>
<li>A URI-encoded URL of an image</li>
<li>A URI-encoded HMC URL.</li>
</ul>
<h3 id="responses-1">Responses</h3>
<h4 id="200-ok-1">200 OK</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Content-Type</code></td>
<td>The type of the file being downloaded.</td>
</tr>
<tr>
<td><code>Content-Disposition</code></td>
<td><code>attachment; filename=&lt;filename&gt;</code> or <code>inline; filename=&lt;filename&gt;</code>.</td>
</tr>
</tbody>
</table>
<h5 id="body">Body</h5>
<p>The body will contain the content of the requested file.</p>
<h2 id="get-_harmonyabout">GET <code>/_harmony/about</code></h2>
<p>Expects authentication: no</p>
<h3 id="responses-2">Responses</h3>
<h4 id="200-ok-2">200 OK</h4>
<h5 id="body-1">Body</h5>
<p>The body will contain a JSON object in the following format:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>serverName</code></td>
<td>the name of the Harmony server software being hosted</td>
</tr>
<tr>
<td><code>version</code></td>
<td>the version of said Harmony server software</td>
</tr>
<tr>
<td><code>aboutServer</code></td>
<td>A description of why / who this server is hosted for.</td>
</tr>
<tr>
<td><code>messageOfTheDay</code></td>
<td>&ldquo;message of the day&rdquo;, can be used to put maintenance information.</td>
</tr>
</tbody>
</table>
<p>Example response:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
    <span style="color:#f92672">&#34;serverName&#34;</span>: <span style="color:#e6db74">&#34;Scherzo&#34;</span>,
    <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;git-0c062f6&#34;</span>,
    <span style="color:#f92672">&#34;aboutServer&#34;</span>: <span style="color:#e6db74">&#34;The main Harmony server.&#34;</span>,
    <span style="color:#f92672">&#34;messageOfTheDay&#34;</span>: <span style="color:#e6db74">&#34;A maintenance will be done between 18:00 - 20:00.&#34;</span>
}
</code></pre></div>
    </article>
  </div>
</div>


        </main><footer class="py-8 bg-dark-900 flex justify-center">
  <div class="max-w-prose">Harmony Development</div>
</footer>
</body>
</html>
